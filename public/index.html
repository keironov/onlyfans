<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Team Dashboard - Enhanced Analytics</title>
<link rel="icon" href="https://public-frontend-cos.metadl.com/mgx/img/favicon.png" type="image/png">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="wrap" id="wrap">
  <div class="top">
    <div>
      <h1>Team Dashboard Enhanced</h1>
      <div class="muted">OnlyFans Agency Management & Analytics</div>
    </div>
  </div>

  <div class="tabs">
    <div class="tab active" data-tab="reports">üìä –û—Ç—á–µ—Ç—ã</div>
    <div class="tab" data-tab="stats">üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</div>
    <div class="tab" data-tab="rankings">üèÜ –†–µ–π—Ç–∏–Ω–≥–∏</div>
    <div class="tab" data-tab="notes">üìå –ú–æ–∏ –∑–∞–º–µ—Ç–∫–∏</div>
    <div class="tab" data-tab="team">üë• –ö–æ–º–∞–Ω–¥–∞</div>
    <div class="tab" data-tab="worklog">üìù –ë–ª–æ–≥ —Ä–∞–±–æ—Ç—ã</div>
  </div>

  <!-- TAB: REPORTS -->
  <div id="tab-reports" class="tab-content" style="display:block;">
    <div class="grid-4" style="margin-bottom:20px;">
      <div class="stat-card">
        <div class="stat-number" id="totalHappn">0</div>
        <div class="stat-label">Happn –∞–∫–∫–∞—É–Ω—Ç–æ–≤</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalLeads">0</div>
        <div class="stat-label">–õ–∏–¥–æ–≤ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–æ</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="totalUsers">0</div>
        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö —é–∑–µ—Ä–æ–≤</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="approvalRate">0%</div>
        <div class="stat-label">–û–¥–æ–±—Ä–µ–Ω–æ</div>
      </div>
    </div>

    <div class="card">
      <h3>üìã –û—Ç—á–µ—Ç—ã (–æ–∂–∏–¥–∞—é—â–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)</h3>
      <div style="overflow:auto;max-height:500px;">
        <table>
          <thead>
            <tr>
              <th style="width:12%">@user</th>
              <th style="width:10%">Instagram</th>
              <th style="width:35%">Text</th>
              <th style="width:10%">Happn</th>
              <th style="width:10%">–õ–∏–¥—ã</th>
              <th style="width:10%">–î–∞—Ç–∞</th>
              <th style="width:13%">‚úî / ‚ùå</th>
            </tr>
          </thead>
          <tbody id="reportsTable"></tbody>
        </table>
      </div>
    </div>

    <div class="card">
      <h3>üí¨ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∏–¥–±–µ–∫</h3>
      <div style="display:grid;gap:12px">
        <select id="feedbackUserSelect">
          <option value="">–í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è‚Ä¶</option>
        </select>
        <textarea id="feedbackText" rows="4" placeholder="–¢–µ–∫—Å—Ç —Ñ–∏–¥–±—ç–∫–∞"></textarea>
        <div style="display:flex;gap:12px;align-items:center">
          <button id="sendFeedbackBtn">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
          <div id="feedbackStatus" class="small muted"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- TAB: ANALYTICS -->
  <div id="tab-stats" class="tab-content">
    <div class="grid">
      <div class="card">
        <h3>üìä Happn –∞–∫–∫–∞—É–Ω—Ç—ã –ø–æ –¥–Ω—è–º</h3>
        <div class="period-buttons">
          <button class="period-btn" data-period="today">–°–µ–≥–æ–¥–Ω—è</button>
          <button class="period-btn active" data-period="yesterday">–í—á–µ—Ä–∞</button>
          <button class="period-btn" data-period="week">–ù–µ–¥–µ–ª—è</button>
          <button class="period-btn" data-period="month">–ú–µ—Å—è—Ü</button>
          <button class="period-btn" data-period="custom">–ü–æ –¥–∞—Ç–µ</button>
        </div>
        <div id="customDateRange" class="date-range-picker" style="display:none;">
          <input type="date" id="statsStartDate" />
          <span>‚Äî</span>
          <input type="date" id="statsEndDate" />
          <button class="small-btn" id="applyDateRange">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>
        <canvas id="happnChart" style="height:280px;"></canvas>
      </div>

      <div class="card">
        <h3>üí∞ –õ–∏–¥—ã –ø–æ –¥–Ω—è–º</h3>
        <canvas id="leadsChart" style="height:280px;"></canvas>
      </div>
    </div>

    <div class="card">
      <h3>üìà –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞</h3>
      <canvas id="combinedChart" style="height:300px;"></canvas>
    </div>

    <div class="card">
      <h3>üë§ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º</h3>
      <div style="display:flex;gap:12px;margin-bottom:16px;flex-wrap:wrap;">
        <select id="userStatsSelect" style="width:200px;">
          <option value="">–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</option>
        </select>
        <div class="period-buttons">
          <button class="period-btn active" data-user-period="all">–í—Å—ë –≤—Ä–µ–º—è</button>
          <button class="period-btn" data-user-period="week">–ù–µ–¥–µ–ª—è</button>
          <button class="period-btn" data-user-period="month">–ú–µ—Å—è—Ü</button>
          <button class="period-btn" data-user-period="custom">–ü–æ –¥–∞—Ç–µ</button>
        </div>
      </div>
      <div id="userCustomDateRange" class="date-range-picker" style="display:none;">
        <input type="date" id="userStatsStartDate" />
        <span>‚Äî</span>
        <input type="date" id="userStatsEndDate" />
        <button class="small-btn" id="applyUserDateRange">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
      </div>
      <div id="userDetailedStats" style="display:grid;gap:12px;margin-top:16px;"></div>
    </div>
  </div>

  <!-- TAB: RANKINGS -->
  <div id="tab-rankings" class="tab-content">
    <div class="grid-3">
      <div class="card ranking-card">
        <h3>üèÜ –¢–æ–ø-5 —Å–µ–≥–æ–¥–Ω—è</h3>
        <div id="rankingToday" class="ranking-list">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      </div>
      <div class="card ranking-card">
        <h3>üî• –¢–æ–ø-5 –∑–∞ –Ω–µ–¥–µ–ª—é</h3>
        <div id="rankingWeek" class="ranking-list">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      </div>
      <div class="card ranking-card">
        <h3>‚≠ê –¢–æ–ø-5 –∑–∞ –º–µ—Å—è—Ü</h3>
        <div id="rankingMonth" class="ranking-list">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      </div>
    </div>

    <div class="card">
      <h3>üìä –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤</h3>
      <div class="period-buttons" style="margin-bottom:16px;">
        <button class="period-btn active" data-ranking-period="today">–°–µ–≥–æ–¥–Ω—è</button>
        <button class="period-btn" data-ranking-period="week">–ù–µ–¥–µ–ª—è</button>
        <button class="period-btn" data-ranking-period="month">–ú–µ—Å—è—Ü</button>
      </div>
      <div style="overflow:auto;">
        <table id="rankingTable">
          <thead>
            <tr>
              <th>–ú–µ—Å—Ç–æ</th>
              <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
              <th>–†–æ–ª—å</th>
              <th>Instagram</th>
              <th>Happn</th>
              <th>–õ–∏–¥—ã</th>
              <th>–í—Å–µ–≥–æ</th>
            </tr>
          </thead>
          <tbody id="rankingTableBody"></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- TAB: PERSONAL NOTES -->
  <div id="tab-notes" class="tab-content">
    <div class="card">
      <h3>‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É</h3>
      <div style="display:grid;gap:12px;">
        <input id="noteTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–º–µ—Ç–∫–∏" />
        <textarea id="noteContent" rows="4" placeholder="–¢–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏"></textarea>
        <div style="display:flex;gap:12px;align-items:center;">
          <label style="color:var(--text-secondary);font-size:14px;">–¶–≤–µ—Ç:</label>
          <div class="color-picker">
            <div class="color-option" data-color="#f59e0b" style="background:#f59e0b;"></div>
            <div class="color-option" data-color="#ef4444" style="background:#ef4444;"></div>
            <div class="color-option" data-color="#10b981" style="background:#10b981;"></div>
            <div class="color-option" data-color="#3b82f6" style="background:#3b82f6;"></div>
            <div class="color-option" data-color="#a855f7" style="background:#a855f7;"></div>
            <div class="color-option" data-color="#ec4899" style="background:#ec4899;"></div>
          </div>
          <button id="addNoteBtn" style="margin-left:auto;">üíæ –°–æ–∑–¥–∞—Ç—å</button>
        </div>
      </div>
    </div>

    <div class="notes-board" id="notesBoard">
      <!-- Notes will be dynamically inserted here -->
    </div>
  </div>

  <!-- TAB: TEAM -->
  <div id="tab-team" class="tab-content">
    <div class="grid">
      <div class="card">
        <h3>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π</h3>
        <div style="display:grid;gap:12px;margin-bottom:20px;">
          <input id="newUsername" placeholder="–í–≤–µ–¥–∏ username (–Ω–∞–ø—Ä–∏–º–µ—Ä @ivan)" />
          <button id="addUserBtn">‚ûï –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–º–∞–Ω–¥—É</button>
          <div id="addUserStatus" class="small muted"></div>
        </div>
        <div id="teamList" class="team-list small">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      </div>
      <div class="card">
        <h3>üìù –ó–∞–º–µ—Ç–∫–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞</h3>
        <div style="display:grid;gap:12px;margin-bottom:16px;">
          <select id="notesUserSelect">
            <option value="">–í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è‚Ä¶</option>
          </select>
          <textarea id="newNote" rows="3" placeholder="–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ü–æ–¥–∫–ª—é—á–∏—Ç—å –ò–ò –Ω–∞ —ç—Ç—É –∏–Ω—Å—Ç—É)"></textarea>
          <button id="addNoteBtn2">üíæ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</button>
        </div>
        <div id="notesList" class="notes-list small">–í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
      </div>
    </div>
  </div>

  <!-- TAB: WORKLOG -->
  <div id="tab-worklog" class="tab-content">
    <div class="grid">
      <div class="card">
        <h3>‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</h3>
        <div style="display:grid;gap:12px;">
          <select id="worklogUser">
            <option value="">–í—ã–±–µ—Ä–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è‚Ä¶</option>
          </select>
          <input type="date" id="worklogDate" />
          <select id="worklogStatus">
            <option value="working">‚úÖ –í—ã—à–µ–ª –Ω–∞ —Ä–∞–±–æ—Ç—É</option>
            <option value="absent">‚ùå –ù–µ –≤—ã—à–µ–ª –Ω–∞ —Ä–∞–±–æ—Ç—É</option>
            <option value="evening">üåô –í—ã–π–¥–µ—Ç –≤–µ—á–µ—Ä–æ–º</option>
          </select>
          <textarea id="worklogReason" rows="3" placeholder="–ü—Ä–∏—á–∏–Ω–∞ (–µ—Å–ª–∏ –Ω–µ –≤—ã—à–µ–ª)"></textarea>
          <button id="addWorklogBtn">üíæ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
          <div id="worklogStatusMsg" class="small muted"></div>
        </div>
      </div>
      <div class="card">
        <h3>üìú –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–±–æ—Ç—ã</h3>
        <div style="display:flex;gap:12px;margin-bottom:16px;">
          <button id="prevDayBtn" class="secondary">‚óÄ –ù–∞–∑–∞–¥</button>
          <input type="date" id="worklogDatePicker" style="flex:1;" />
          <button id="nextDayBtn" class="secondary">–í–ø–µ—Ä–µ–¥ ‚ñ∂</button>
        </div>
        <div id="worklogList" style="max-height:500px;overflow:auto;">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      </div>
    </div>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>